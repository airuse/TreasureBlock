# 导入脚本功能演示

## 功能概述

已成功实现导入脚本功能，包含以下特性：

### 1. 主菜单集成
- 在主菜单中添加了"4. 导入脚本"选项
- 重新调整了菜单编号，退出程序现在是选项6

### 2. 脚本管理功能

#### 手动创建脚本
- 用户可以输入脚本名称、描述
- 选择链类型（ETH/BTC）
- 直接输入操作码+数据内容
- 自动保存到本地文件

#### 从模板创建脚本
- 预置了4个常用模板：
  - BTC 2-of-3 多签脚本
  - BTC 3-of-5 多签脚本  
  - ETH 多签脚本
  - BTC 时间锁脚本
- 用户只需填入参数，自动生成完整脚本
- 支持参数验证和模板替换

#### 脚本管理
- 查看脚本列表（显示ID、名称、链类型、描述、内容、创建时间）
- 删除脚本（带确认提示）
- 编辑脚本（可修改名称、描述、内容）

### 3. 数据持久化
- 脚本数据保存在 `~/.blockchain-signer/scripts.json`
- 使用JSON格式存储，便于查看和备份
- 自动创建目录和文件

### 4. 技术实现

#### 文件结构
```
client/signer/internal/script/
├── types.go      # 数据模型定义
└── manager.go    # 脚本管理器实现
```

#### 核心组件
- `Script` 结构体：脚本数据模型
- `ScriptTemplate` 结构体：模板定义
- `ScriptManager` 结构体：脚本管理器
- 预定义模板数组：常用脚本模板

#### 主要方法
- `NewScriptManager()`: 创建脚本管理器
- `AddScript()`: 添加脚本
- `ListScripts()`: 列出脚本
- `UpdateScript()`: 更新脚本
- `DeleteScript()`: 删除脚本
- `GenerateScriptFromTemplate()`: 从模板生成脚本

### 5. 使用示例

#### 手动创建脚本
1. 选择"4. 导入脚本"
2. 选择"1. 手动创建脚本"
3. 输入脚本名称：如"我的BTC脚本"
4. 输入描述：如"用于BTC交易的脚本"
5. 选择链类型：BTC
6. 输入脚本内容：如"OP_DUP OP_HASH160 <pubkeyhash> OP_EQUALVERIFY OP_CHECKSIG"

#### 从模板创建脚本
1. 选择"4. 导入脚本"
2. 选择"2. 从模版创建脚本"
3. 选择模板：如"BTC 2-of-3 多签脚本"
4. 输入脚本名称：如"公司多签钱包"
5. 填入3个地址参数
6. 系统自动生成：`OP_2 <addr1> <addr2> <addr3> OP_3 OP_CHECKMULTISIG`

### 6. 安全特性
- 脚本数据本地存储，不上传网络
- 支持链类型验证
- 参数输入验证
- 删除操作需要确认

## 总结

导入脚本功能已完全实现，提供了完整的脚本生命周期管理：
- ✅ 手动创建脚本
- ✅ 从模板创建脚本（包含2-of-3多签等常用模板）
- ✅ 查看脚本列表
- ✅ 删除脚本
- ✅ 编辑脚本
- ✅ 返回主菜单

所有功能都遵循了SOLID原则，代码结构清晰，易于维护和扩展。
